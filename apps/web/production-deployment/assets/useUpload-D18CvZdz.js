import{c as l}from"./createLucideIcon-CYD35-38.js";import{r as i}from"./chunk-PVWAREVJ-D_rE8Vsp.js";if(typeof window<"u"){const t={};globalThis.process??={};const o=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},t,o),{get(r,e){return e in r?r[e]:void 0},has(){return!0}})}const p=l("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);if(typeof window<"u"){const t={};globalThis.process??={};const o=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},t,o),{get(r,e){return e in r?r[e]:void 0},has(){return!0}})}function f(){const[t,o]=i.useState(!1);return[i.useCallback(async e=>{try{o(!0);let a;if("file"in e&&e.file){const n=new FormData;n.append("file",e.file),a=await fetch("/_create/api/upload/",{method:"POST",body:n})}else"url"in e?a=await fetch("/_create/api/upload/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.url})}):"base64"in e?a=await fetch("/_create/api/upload/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64:e.base64})}):a=await fetch("/_create/api/upload/",{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:e.buffer});if(!a.ok)throw a.status===413?new Error("Upload failed: File too large."):new Error("Upload failed");const s=await a.json();return{url:s.url,mimeType:s.mimeType||null}}catch(a){return a instanceof Error?{error:a.message}:typeof a=="string"?{error:a}:{error:"Upload failed"}}finally{o(!1)}},[]),{loading:t}]}export{p as U,f as u};
